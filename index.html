<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Admin Proposal Scheduler</title>
    <style>
        body { font-family: Arial, sans-serif; padding: 20px; }
        input, button { padding: 5px; margin-bottom: 10px; }
        table { border-collapse: collapse; margin-top: 20px; }
        td, th { border: 1px solid #ccc; padding: 5px 10px; }
    </style>
</head>
<body>
    <h2>Admin Panel: Set Schedule</h2>
    <p>Edit days, max groups per day, and available slots:</p>

    <table>
        <thead>
            <tr><th>Day</th><th>Max Groups</th><th>Slots (comma separated)</th></tr>
        </thead>
        <tbody id="scheduleTable">
        </tbody>
    </table>

    <button id="saveSchedule">Save Schedule</button>

    <script>
        // پیش‌فرض روزها و ساعات
        let schedule = {
            "2025-11-20": { maxGroups: 3, slots: ["09:00", "10:00", "11:00"], assignedGroups: [] },
            "2025-11-21": { maxGroups: 2, slots: ["09:00", "10:00"], assignedGroups: [] },
            "2025-11-22": { maxGroups: 1, slots: ["10:00"], assignedGroups: [] }
        };

        const tableBody = document.getElementById('scheduleTable');

        function renderTable() {
            tableBody.innerHTML = '';
            for (const day in schedule) {
                const row = document.createElement('tr');
                row.innerHTML = `
                    <td>${day}</td>
                    <td><input type="number" value="${schedule[day].maxGroups}" min="1" data-day="${day}" class="maxGroupInput"></td>
                    <td><input type="text" value="${schedule[day].slots.join(',')}" data-day="${day}" class="slotsInput"></td>
                `;
                tableBody.appendChild(row);
            }
        }

        renderTable();

        document.getElementById('saveSchedule').addEventListener('click', () => {
            // بروزرسانی schedule از ورودی‌ها
            document.querySelectorAll('.maxGroupInput').forEach(input => {
                const day = input.dataset.day;
                schedule[day].maxGroups = parseInt(input.value);
            });
            document.querySelectorAll('.slotsInput').forEach(input => {
                const day = input.dataset.day;
                schedule[day].slots = input.value.split(',').map(s => s.trim());
            });
            alert('Schedule updated!');
        });

        // برای student.html در دسترس قرار دادن داده‌ها
        window.adminSchedule = schedule;
    </script>
</body>
</html>
